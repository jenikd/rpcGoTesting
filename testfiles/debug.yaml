ignore: false

deploy:
  - contract_id: 1
    # contract located in contracts/tracing/innercall.sol
    abi: '[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"message","type":"string"}],"name":"Log","type":"event"},{"inputs":[{"internalType":"uint256","name":"_num","type":"uint256"}],"name":"InnerCall","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"bContract","outputs":[{"internalType":"contract B","name":"","type":"address"}],"stateMutability":"view","type":"function"}]'
    bytecode: 0x6080604052348015600e575f5ffd5b506040516019906074565b604051809103905ff0801580156031573d5f5f3e3d5ffd5b505f5f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506081565b6101bf8061032683390190565b6102988061008e5f395ff3fe608060405260043610610028575f3560e01c806378e43df31461002c578063f2e06b5014610056575b5f5ffd5b348015610037575f5ffd5b50610040610072565b60405161004d9190610199565b60405180910390f35b610070600480360381019061006b91906101e9565b610096565b005b5f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b5f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636466414b826040518263ffffffff1660e01b81526004016100ef9190610223565b5f604051808303815f87803b158015610106575f5ffd5b505af1158015610118573d5f5f3e3d5ffd5b5050505050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f819050919050565b5f61016161015c6101578461011f565b61013e565b61011f565b9050919050565b5f61017282610147565b9050919050565b5f61018382610168565b9050919050565b61019381610179565b82525050565b5f6020820190506101ac5f83018461018a565b92915050565b5f5ffd5b5f819050919050565b6101c8816101b6565b81146101d2575f5ffd5b50565b5f813590506101e3816101bf565b92915050565b5f602082840312156101fe576101fd6101b2565b5b5f61020b848285016101d5565b91505092915050565b61021d816101b6565b82525050565b5f6020820190506102365f830184610214565b9291505056fea264697066735822122029e33b66c31885d415e851390115ff0d7efe99bc06ccf3dd112464622d42566b64736f6c637828302e382e32392d646576656c6f702e323032342e31312e312b636f6d6d69742e666361306264333100596080604052348015600e575f5ffd5b506101a38061001c5f395ff3fe608060405260043610610033575f3560e01c80634e70b1dc146100375780636466414b1461006157806367e0badb1461007d575b5f5ffd5b348015610042575f5ffd5b5061004b6100a7565b60405161005891906100d5565b60405180910390f35b61007b6004803603810190610076919061011c565b6100ac565b005b348015610088575f5ffd5b506100916100b5565b60405161009e91906100d5565b60405180910390f35b5f5481565b805f8190555050565b5f5f54905090565b5f819050919050565b6100cf816100bd565b82525050565b5f6020820190506100e85f8301846100c6565b92915050565b5f5ffd5b6100fb816100bd565b8114610105575f5ffd5b50565b5f81359050610116816100f2565b92915050565b5f60208284031215610131576101306100ee565b5b5f61013e84828501610108565b9150509291505056fea2646970667358221220cc9c1c04dd942f20d3f0c5cfb7493d38b054ca66b1adee74be7c068c67d59b4264736f6c637828302e382e32392d646576656c6f702e323032342e31312e312b636f6d6d69742e66636130626433310059

contract_call:
  - call_id: 1
    contract_id: 1
    method_name: InnerCall
    arguments: [23]

test_call:
  - test_name: "Check debug_traceTransaction"
    call_id: 1
    method_name: debug_traceTransaction
    arguments: [tx.hash,{"timeout":"2m","tracer":"callTracer"}]
    result: {"type":"CALL","from":"0x239fa7623354ec26520de878b52f13fe84b06971","to":"0xbc06770f3d7f2f5913be24470dd5c399c43b6731","value":"0x0","gas":"0x79bf2c","gasUsed":"0x6d65","input":"0xf2e06b500000000000000000000000000000000000000000000000000000000000000017","calls":[{"type":"CALL","from":"0xbc06770f3d7f2f5913be24470dd5c399c43b6731","to":"0x84921017eeeadef55a4140cbefa0a888bb186fc1","value":"0x0","gas":"0x77c32a","gasUsed":"0x57e0","input":"0x6466414b0000000000000000000000000000000000000000000000000000000000000017"}]}
    ignore_fields: ["to","from","gas","gasUsed"]